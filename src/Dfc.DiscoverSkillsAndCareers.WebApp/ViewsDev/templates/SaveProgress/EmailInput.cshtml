{% set pageName = 'resume-code' %}
{% set pageGroup = '' %}

{% extends "_base.njk" %}

{% block pre %}
@model Dfc.DiscoverSkillsAndCareers.WebApp.Models.SaveProgressViewModel;
@{
    ViewData["Title"] = @Model.PageTitle;
    Layout = null;
}
{% endblock %}

{% block main %}
<main id="content" role="main">

    <div class="govuk-width-container app-site-width-container">

        {% include "_phasebanner.njk" %}

        {% block beforeContent %}
        {{ govukBackLink({
            text: "Back to previous page",
            href: "@Model.BackLink"
        }) }}
        {% endblock %}

    </div>

    <div class="govuk-main-wrapper govuk-width-container">
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-two-thirds">

                <h1 class="govuk-heading-xl">@Model.EmailPrompt</h1>

                @if (!String.IsNullOrEmpty(@Model.ErrorMessage)) {
                    <div>
                        {{ govukErrorSummary({
                        "titleText": "There is a problem",
                        "errorList": [
                            {
                            "text": "@Model.ErrorMessage",
                            "href": "#email"
                            }
                        ]
                        }) }}
                    </div>
                }

                <div class="govuk-body">

                    <form action="/save-my-progress/email" method="post" class="govuk-grid-row">
                        <div class="govuk-grid-column-two-thirds-from-desktop">
                            @if (String.IsNullOrEmpty(@Model.ErrorMessage)) {
                            <div>
                                {{ govukInput({
                                label: {
                                text: "@Model.EmailInputLabel"
                                },
                                type: "text",
                                id: "email",
                                name: "email",
                                required: "true"
                                })
                                }}
                            </div>
                            } else {
                            <div>
                                {{ govukInput({
                                label: {
                                    text: "@Model.EmailInputLabel"
                                },
                                type: "text",
                                id: "email",
                                name: "email",
                                required: "true",
                                errorMessage: {
                                    text: "@Model.ErrorMessage"
                                }
                                })
                                }}
                            </div>
                            }
                            {{ govukButton({
                                text: "@Model.EmailInputButtonText"
                            }) }}
                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>
</main>

{% endblock %}
